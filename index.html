<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grow a Garden</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cal+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script type="importmap">
        {
            "imports": {
                "@websim/websim-socket": "https://esm.websim.com/@websim/websim-socket"
            }
        }
    </script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Grow a Garden</h1>
            <p class="beta-info">IN BETA MADE BY NEBULASTORMYT</p>
            <p class="beta-info">(UPDATING ALOT)</p>
            <p class="instructions">Click on empty plots to plant seeds and watch your garden flourish</p>
            <p class="disclaimer">I DO NOT OWN THIS GAME I JUST MADE THIS FOR FUN DONT SUE ME GROW A GARDEN</p>
            <p class="bug-report">IF YOU FIND ANY BUGS REPORT TO NEBULASTORMYT0@GMAIL.COM</p>
        </header>
        
        <div class="garden-grid" id="garden">
            <!-- Garden plots will be generated by JavaScript -->
        </div>
        
        <div class="controls">
            <div class="weather-display">
                <h3>Current Weather:</h3>
                <div class="weather-status" id="weather-status">
                    <span class="weather-emoji" id="weather-emoji">â˜€ï¸</span>
                    <span class="weather-name" id="weather-name">Normal</span>
                    <span class="weather-duration" id="weather-duration"></span>
                </div>
            </div>
            
            <div class="seed-selector">
                <h3>Select Seed:</h3>
                <div class="seed-options">
                    <!-- Seed buttons are now generated dynamically by script.js (sorted lowest â†’ highest) -->
                </div>
            </div>
            
            <div class="tool-selector">
                <h3>Select Tool:</h3>
                <div class="tool-options">
                    <button class="tool-btn active" data-tool="none">âœ‹ Hand (Free)</button>
                    <button class="tool-btn" data-tool="fertilizer">ğŸ§ª Fertilizer (+2kg) (100â‚ª)</button>
                    <button class="tool-btn" data-tool="growth-hormone">ğŸ’‰ Growth Hormone (+5kg) (500â‚ª)</button>
                    <button class="tool-btn" data-tool="mutagen">â˜¢ï¸ Mutagen (Mutation) (1,000â‚ª)</button>
                    <button class="tool-btn" data-tool="super-soil">ğŸŒ± Super Soil (+10kg) (2,500â‚ª)</button>
                </div>
            </div>
            
            <div class="stats">
                <div class="stat">
                    <span class="stat-label">Sheckles:</span>
                    <span class="stat-value" id="money">10</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Plants:</span>
                    <span class="stat-value" id="plant-count">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Water:</span>
                    <span class="stat-value" id="water-level">100</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Playtime:</span>
                    <span class="stat-value" id="playtime">0s</span>
                </div>
            </div>
            
            <button id="badges-btn" class="badges-btn">ğŸ† Badges</button>
            <button id="leaderboard-btn" class="leaderboard-btn">ğŸ… Leaderboard</button>
            <button id="water-btn" class="water-btn">ğŸ’§ Water Garden</button>
            <button id="save-btn" class="save-btn">ğŸ’¾ Save Game</button>
            <button id="load-btn" class="load-btn">ğŸ“ Load Game</button>
            <button id="reset-btn" class="reset-btn">ğŸ”„ Reset Garden</button>
            <button id="sell-all-btn" class="sell-btn">ğŸ’° Sell All Mature Plants</button>
            <button id="login-logout-btn" class="login-logout-btn">ğŸ‘¤ Login/Logout</button>
        </div>
    </div>
    
    <script type="module" src="script.js"></script>
    <div style="text-align: center; margin-top: 20px; color: #666; font-size: 1rem;">
        version 1.4 beta
    </div>

    <!-- Login/Register Modal -->
    <div id="login-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Welcome to Grow a Garden!</h2>
            <p id="login-message"></p>
            <input type="text" id="nickname-input" placeholder="Enter your nickname" class="modal-input">
            <input type="password" id="password-input" placeholder="Enter a password" class="modal-input">
            <button id="login-submit-btn" class="modal-btn">Continue</button>
            <button id="logout-confirm-btn" class="modal-btn hidden">Confirm Logout</button>
            <p class="modal-error" id="login-error"></p>
        </div>
    </div>

    <!-- Leaderboard Modal -->
    <div id="leaderboard-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>ğŸ… Leaderboard</h2>
            <div id="leaderboard-list" class="leaderboard-list">
                <!-- Leaderboard entries will be dynamically inserted here -->
            </div>
            <button class="modal-close-btn" id="leaderboard-close-btn">Close</button>
        </div>
    </div>
</body>
</html>